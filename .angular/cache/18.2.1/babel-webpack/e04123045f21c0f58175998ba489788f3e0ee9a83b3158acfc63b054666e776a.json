{"ast":null,"code":"import _asyncToGenerator from \"C:/focus/focus/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nimport dayGridPlugin from '@fullcalendar/daygrid';\nimport interactionPlugin from '@fullcalendar/interaction';\nlet LmscalendarComponent = class LmscalendarComponent {\n  constructor(lmsservice, authservice) {\n    this.lmsservice = lmsservice;\n    this.authservice = authservice;\n    this.calenderItem = [];\n    this.calendarOptions = {\n      initialView: 'dayGridMonth',\n      plugins: [dayGridPlugin, interactionPlugin],\n      dateClick: arg => this.handleDateClick(arg),\n      // events:[\n      //   { title: 'event 1', date: '2024-09-01' }\n      // ]\n      events: this.LoadEvents.bind(this)\n    };\n    authservice.apiData$.subscribe(data => this.empData = data);\n  }\n  ngOnInit() {\n    this.lmslistvalue();\n    console.log(\"data\", this.empData);\n    console.log(\"datid\", this.empData.Empid);\n    this.leavebalance();\n  }\n  handleDateClick(arg) {\n    console.log('date click! ' + arg.dateStr);\n  }\n  LoadEvents(args) {\n    var _this = this;\n    return _asyncToGenerator(function* () {\n      return new Promise(resolve => {\n        console.log(\"args\", args);\n        console.log(\"endstr\", args.endStr.slice(0, 10));\n        console.log(\"start\", args.startStr.slice(0, 10));\n        var start = args.startStr.slice(0, 10);\n        _this.lmsservice.getholidays(start).subscribe(res => {\n          console.log(\"calendardata\", res[0]);\n          _this.calenderItem = res[0];\n          const events = [];\n          for (let i of _this.calenderItem) {\n            events.push({\n              title: i.title,\n              date: i.sdate,\n              color: i.color.toLowerCase()\n            });\n          }\n          console.log(\"events\", events);\n          resolve(events);\n        });\n      });\n    })();\n  }\n  lmslistvalue() {\n    this.lmsservice.getlmslist().subscribe(data => {\n      this.lmslist = data;\n      console.log(\"lmslist\", this.lmslist);\n    });\n  }\n  leavebalance() {\n    this.lmsservice.getleavebalance(this.empData.Empid).subscribe(data => {\n      this.leavebal = data[0];\n      console.log(\"leavebal\", this.leavebal);\n    });\n  }\n  onChange(e) {\n    console.log(e.target.value);\n  }\n};\nLmscalendarComponent = __decorate([Component({\n  selector: 'app-lmscalendar',\n  templateUrl: './lmscalendar.component.html',\n  styleUrls: ['./lmscalendar.component.css']\n})], LmscalendarComponent);\nexport { LmscalendarComponent };","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}